{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/toor/Desktop/Ishay/ReactApps/client/src/Config.js\";\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport MaterialTable from 'material-table'; //JSON data from RESTful API\n\nvar user = {\n  \"user\": {\n    \"id\": 2,\n    \"email\": \"janet.weaver@reqres.in\",\n    \"first_name\": \"Janet\",\n    \"last_name\": \"Weaver\",\n    \"avatar\": \" \"\n  }\n};\nvar columns = [{\n  title: \"id\",\n  field: \"id\",\n  hidden: true\n}, {\n  title: \"Avatar\",\n  render: rowData => /*#__PURE__*/_jsxDEV(Avatar, {\n    maxInitials: 1,\n    size: 40,\n    round: true,\n    name: rowData === undefined ? \" \" : rowData.first_name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 43\n  }, this)\n}, {\n  title: \"First name\",\n  field: \"first_name\"\n}, {\n  title: \"Last name\",\n  field: \"last_name\"\n}, {\n  title: \"email\",\n  field: \"email\"\n}];\nconst [data, setData] = useState([]); //table data\n\nuseEffect(() => {\n  setData(user.data);\n});\nexport default function Config() {\n  return /*#__PURE__*/_jsxDEV(MaterialTable, {\n    title: \"User list from API\",\n    columns: columns,\n    data: data,\n    icons: tableIcons,\n    editable: {\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        handleRowUpdate(newData, oldData, resolve);\n      }),\n      onRowAdd: newData => new Promise(resolve => {\n        handleRowAdd(newData, resolve);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        handleRowDelete(oldData, resolve);\n      })\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_c = Config;\n\nconst handleRowAdd = (newData, resolve) => {// //validation\n  // let errorList = []\n  // if (newData.first_name === undefined) {\n  //     errorList.push(\"Please enter first name\")\n  // }\n  // if (newData.last_name === undefined) {\n  //     errorList.push(\"Please enter last name\")\n  // }\n  // if (newData.email === undefined || validateEmail(newData.email) === false) {\n  //     errorList.push(\"Please enter a valid email\")\n  // }\n  // if (errorList.length < 1) { //no error\n  //     api.post(\"/users\", newData)\n  //         .then(res => {\n  //             let dataToAdd = [...data];\n  //             dataToAdd.push(newData);\n  //             setData(dataToAdd);\n  //             resolve()\n  //             setErrorMessages([])\n  //             setIserror(false)\n  //         })\n  //         .catch(error => {\n  //             setErrorMessages([\"Cannot add data. Server error!\"])\n  //             setIserror(true)\n  //             resolve()\n  //         })\n  // } else {\n  //     setErrorMessages(errorList)\n  //     setIserror(true)\n  //     resolve()\n  // }\n};\n\nconst handleRowUpdate = (newData, oldData, resolve) => {// //validation\n  // if (errorList.length < 1) {\n  //     api.patch(\"/users/\" + newData.id, newData)\n  //         .then(res => {\n  //             const dataUpdate = [...data];\n  //             const index = oldData.tableData.id;\n  //             dataUpdate[index] = newData;\n  //             setData([...dataUpdate]);\n  //             resolve()\n  //             setIserror(false)\n  //             setErrorMessages([])\n  //         })\n  //         .catch(error => {\n  //             setErrorMessages([\"Update failed! Server error\"])\n  //             setIserror(true)\n  //             resolve()\n  //         })\n  // } else {\n  //     setErrorMessages(errorList)\n  //     setIserror(true)\n  //     resolve()\n  // }\n};\n\nconst handleRowDelete = (oldData, resolve) => {// api.delete(\"/users/\" + oldData.id)\n  //     .then(res => {\n  //         const dataDelete = [...data];\n  //         const index = oldData.tableData.id;\n  //         dataDelete.splice(index, 1);\n  //         setData([...dataDelete]);\n  //         resolve()\n  //     })\n  //     .catch(error => {\n  //         setErrorMessages([\"Delete failed! Server error\"])\n  //         setIserror(true)\n  //         resolve()\n  //     })\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Config\");","map":{"version":3,"sources":["/home/toor/Desktop/Ishay/ReactApps/client/src/Config.js"],"names":["React","useEffect","useState","Axios","MaterialTable","user","columns","title","field","hidden","render","rowData","undefined","first_name","data","setData","Config","tableIcons","onRowUpdate","newData","oldData","Promise","resolve","handleRowUpdate","onRowAdd","handleRowAdd","onRowDelete","handleRowDelete"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Axios from 'axios';\nimport MaterialTable from 'material-table'\n\n\n//JSON data from RESTful API\nvar user = {\n    \"user\":\n    {\n        \"id\": 2,\n        \"email\": \"janet.weaver@reqres.in\",\n        \"first_name\": \"Janet\",\n        \"last_name\": \"Weaver\",\n        \"avatar\": \" \"\n    }\n}\n\nvar columns = [\n    { title: \"id\", field: \"id\", hidden: true },\n    { title: \"Avatar\", render: rowData => <Avatar maxInitials={1} size={40} round={true} name={rowData === undefined ? \" \" : rowData.first_name} /> },\n    { title: \"First name\", field: \"first_name\" },\n    { title: \"Last name\", field: \"last_name\" },\n    { title: \"email\", field: \"email\" }\n]\nconst [data, setData] = useState([]); //table data\n\nuseEffect(() => {\n    setData(user.data)\n})\n\nexport default function Config() {\n    return (\n        <MaterialTable\n            title=\"User list from API\"\n            columns={columns}\n            data={data}\n            icons={tableIcons}\n            editable={{\n                onRowUpdate: (newData, oldData) =>\n                    new Promise((resolve) => {\n                        handleRowUpdate(newData, oldData, resolve);\n                    }),\n                onRowAdd: (newData) =>\n                    new Promise((resolve) => {\n                        handleRowAdd(newData, resolve)\n                    }),\n                onRowDelete: (oldData) =>\n                    new Promise((resolve) => {\n                        handleRowDelete(oldData, resolve)\n                    }),\n            }}\n        />\n    )\n}\n\nconst handleRowAdd = (newData, resolve) => {\n    // //validation\n    // let errorList = []\n    // if (newData.first_name === undefined) {\n    //     errorList.push(\"Please enter first name\")\n    // }\n    // if (newData.last_name === undefined) {\n    //     errorList.push(\"Please enter last name\")\n    // }\n    // if (newData.email === undefined || validateEmail(newData.email) === false) {\n    //     errorList.push(\"Please enter a valid email\")\n    // }\n    // if (errorList.length < 1) { //no error\n    //     api.post(\"/users\", newData)\n    //         .then(res => {\n    //             let dataToAdd = [...data];\n    //             dataToAdd.push(newData);\n    //             setData(dataToAdd);\n    //             resolve()\n    //             setErrorMessages([])\n    //             setIserror(false)\n    //         })\n    //         .catch(error => {\n    //             setErrorMessages([\"Cannot add data. Server error!\"])\n    //             setIserror(true)\n    //             resolve()\n    //         })\n    // } else {\n    //     setErrorMessages(errorList)\n    //     setIserror(true)\n    //     resolve()\n    // }\n}\n\nconst handleRowUpdate = (newData, oldData, resolve) => {\n    // //validation\n    // if (errorList.length < 1) {\n    //     api.patch(\"/users/\" + newData.id, newData)\n    //         .then(res => {\n    //             const dataUpdate = [...data];\n    //             const index = oldData.tableData.id;\n    //             dataUpdate[index] = newData;\n    //             setData([...dataUpdate]);\n    //             resolve()\n    //             setIserror(false)\n    //             setErrorMessages([])\n    //         })\n    //         .catch(error => {\n    //             setErrorMessages([\"Update failed! Server error\"])\n    //             setIserror(true)\n    //             resolve()\n    //         })\n    // } else {\n    //     setErrorMessages(errorList)\n    //     setIserror(true)\n    //     resolve()\n    // }\n}\n\nconst handleRowDelete = (oldData, resolve) => {\n    // api.delete(\"/users/\" + oldData.id)\n    //     .then(res => {\n    //         const dataDelete = [...data];\n    //         const index = oldData.tableData.id;\n    //         dataDelete.splice(index, 1);\n    //         setData([...dataDelete]);\n    //         resolve()\n    //     })\n    //     .catch(error => {\n    //         setErrorMessages([\"Delete failed! Server error\"])\n    //         setIserror(true)\n    //         resolve()\n    //     })\n}"]},"metadata":{},"sourceType":"module"}